---
title: zookeeper实现分布式锁
date: 2024-06-19 18:18:55
categories:
- 分布式微服务
- zookeeper实现分布式锁
tags:
---

# zookeeper分布式锁实现
两种方案
## 临时节点
设置单个临时节点，多个机器/线程去竞争创建同一个临时节点，只有一个机器/线程能创建成功，则获取到锁，其他机器/线程监听临时节点的变化
当临时节点会话中断或者节点删除的时候，释放锁

## 临时顺序节点
多个机器/线程各自创建不同的的临时节点，按照顺序，让序号小的获取锁。其他机器/线程监听比他序号小的节点。
释放锁同理